<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="../node_modules/reset.css/reset.css">
    <link rel="stylesheet" href="../node_modules/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="../css/businessInfo.css">
    <link rel="stylesheet" href="../css/globalFooter.css">
    <title>饿了么 商家信息</title>
    <script>
        // javascript
        function clickMinus(id) {
            let foodCount = document.getElementById(id).innerText;
            let foodCount_ = Number(foodCount);
            let price = document.getElementById("price").innerText;
            let price_ = Number(price);
            let allFoodCount = document.getElementById("all-food-count").innerText;
            let allFoodCount_ = Number(allFoodCount);
            if (foodCount_ > 0) {
                foodCount = foodCount_ - 1;
                price = (price_ - 6.12).toFixed(2);
                allFoodCount = allFoodCount_ - 1;
            }
            document.getElementById(id).innerText = foodCount;
            document.getElementById("price").innerText = price;
            document.getElementById("all-food-count").innerText = allFoodCount;
            this.check(Number(price))
        }

        function clickPlus(id) {
            let foodCount = document.getElementById(id).innerText;
            let foodCount_ = Number(foodCount);
            let price = document.getElementById("price").innerText;
            let price_ = Number(price);
            let allFoodCount = document.getElementById("all-food-count").innerText;
            let allFoodCount_ = Number(allFoodCount);
            foodCount = foodCount_ + 1;
            price = (price_ + 6.12).toFixed(2);
            allFoodCount = allFoodCount_ + 1;
            document.getElementById(id).innerText = foodCount;
            document.getElementById("price").innerText = price;
            document.getElementById("all-food-count").innerText = allFoodCount;
            this.check(Number(price))
        }

        function check(price) {
            let a = document.getElementById("cart-right-item");
            if (price < 15) {
                a.style.backgroundColor = "#535356";
                a.innerText = "15元起送"

            } else {
                a.style.backgroundColor = "#38CA73";
                a.style.cursor = "pointer";
                a.innerText = "去结算"
                // a.onclick = "order.html"
                console.log(a)
            }
        }


    </script>

</head>
<body>
<div class="wrapper">
    <!-- header部分 -->
    <header>
        <p>商家信息</p>
    </header>
    <!-- 商家logo部分 -->
    <div class="business-logo">
        <img src="../img/sj01.png">
    </div>
    <!-- 商家信息部分 -->
    <div class="business-info">
        <h1>万家饺子（软件园E18店）</h1>
        <p>&#165;15起送 &#165;3配送</p>
        <p>各种饺子炒菜</p>
    </div>
    <!-- 食品列表部分 -->
    <ul class="food">
        <li>
            <div class="food-left">
                <img src="../img/sp01.png">
                <div class="food-left-info">
                    <h3>纯肉鲜肉（水饺）</h3>
                    <p>新鲜猪肉</p>
                    <p>&#165;15</p>
                </div>
            </div>
            <div class="food-right">
                <div>
                    <i class=" fa fa-minus-circle" onclick="clickMinus('foodCount-1')"></i>
                </div>
                <p><span id="foodCount-1">4</span></p>
                <div>
                    <i class="fa fa-plus-circle" onclick="clickPlus('foodCount-1')"></i>
                </div>
            </div>
        </li>
        <li>
            <div class="food-left">
                <img src="../img/sp02.png">
                <div class="food-left-info">
                    <h3>玉米鲜肉（水饺）</h3>
                    <p>玉米鲜肉</p>
                    <p>&#165;16</p>
                </div>
            </div>
            <div class="food-right">
                <div>
                    <i class=" fa fa-minus-circle" onclick="clickMinus('foodCount-2')"></i>
                </div>
                <p><span id="foodCount-2">3</span></p>
                <div>
                    <i class="fa fa-plus-circle" onclick="clickPlus('foodCount-2')"></i>
                </div>
            </div>
        </li>
        <li>
            <div class="food-left">
                <img src="../img/sp03.png">
                <div class="food-left-info">
                    <h3>虾仁三鲜（蒸饺）</h3>
                    <p>虾仁三鲜</p>
                    <p>&#165;22</p>
                </div>
            </div>
            <div class="food-right">
                <div>
                    <i class=" fa fa-minus-circle" onclick="clickMinus('foodCount-3')"></i>
                </div>
                <p><span id="foodCount-3">0</span></p>
                <div>
                    <i class="fa fa-plus-circle" onclick="clickPlus('foodCount-3')"></i>
                </div>
            </div>
        </li>
        <li>
            <div class="food-left">
                <img src="../img/sp04.png">
                <div class="food-left-info">
                    <h3>素三鲜（蒸饺）</h3>
                    <p>素三鲜</p>
                    <p>&#165;15</p>
                </div>
            </div>
            <div class="food-right">
                <div>
                    <i class=" fa fa-minus-circle" onclick="clickMinus('foodCount-4')"></i>
                </div>
                <p><span id="foodCount-4">0</span></p>
                <div>
                    <i class="fa fa-plus-circle" onclick="clickPlus('foodCount-4')"></i>
                </div>
            </div>
        </li>
        <li>
            <div class="food-left">
                <img src="../img/sp05.png">
                <div class="food-left-info">
                    <h3>角瓜鸡蛋（蒸饺）</h3>
                    <p>角瓜鸡蛋</p>
                    <p>&#165;16</p>
                </div>
            </div>
            <div class="food-right">
                <div>
                    <i class=" fa fa-minus-circle" onclick="clickMinus('foodCount-5')"></i>
                </div>
                <p><span id="foodCount-5">0</span></p>
                <div>
                    <i class="fa fa-plus-circle" onclick="clickPlus('foodCount-5')"></i>
                </div>
            </div>
        </li>
        <li>
            <div class="food-left">
                <img src="../img/sp06.png">
                <div class="food-left-info">
                    <h3>小白菜肉（水饺）</h3>
                    <p>小白菜肉</p>
                    <p>&#165;18</p>
                </div>
            </div>
            <div class="food-right">
                <div>
                    <i class=" fa fa-minus-circle" onclick="clickMinus('foodCount-6')"></i>
                </div>
                <p><span id="foodCount-6">0</span></p>
                <div>
                    <i class="fa fa-plus-circle" onclick="clickPlus('foodCount-6')"></i>
                </div>
            </div>
        </li>
        <li class="last">
            <div class="food-left">
                <img src="../img/sp07.png">
                <div class="food-left-info">
                    <h3>芹菜牛肉（水饺）</h3>
                    <p>芹菜牛肉</p>
                    <p>&#165;18</p>
                </div>
            </div>
            <div class="food-right">
                <div>
                    <i class=" fa fa-minus-circle" onclick="clickMinus('foodCount-7')"></i>
                </div>
                <p><span id="foodCount-7">0</span></p>
                <div>
                    <i class="fa fa-plus-circle" onclick="clickPlus('foodCount-7')"></i>
                </div>
            </div>
        </li>
    </ul>
    <!-- 购物车部分 -->
    <footer class="cart">
        <div class="cart-left">
            <div class="cart-left-icon">
                <i class="fa fa-shopping-cart"></i>
                <div class="cart-left-icon-quantity" id="all-food-count">7</div>
            </div>
            <div class="cart-left-info">
                <div class="first" style="display: flex;flex-direction: row">
                    &#165;
                    <div id="price">42.84</div>
                </div>
                <p>另需配送费4.5元</p>
            </div>
        </div>
        <div class="cart-right">
            <div class="cart-right-item" id="cart-right-item">去结算</div>
        </div>
        <script>
            let btn = document.getElementById("cart-right-item");
            btn.addEventListener('click', function () {
                if (Number(document.getElementById("price").innerText) >= 15) location.href = 'order.html'
            })
        </script>
    </footer>
</div>
</body>
</html>